name: Run Test

on:
    push:
        paths:
            - data/**
            - project/**

jobs:
    lint:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Repository
              uses: actions/checkout@v3

            - name: Set up Python 3.11
              uses: actions/setup-python@v4
              with:
                python-version: 3.11
            
            - name: Install dependencies
              run: |
                pip install -r ./data/requirements.txt
    
    test:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v3
            
            - name: Set up Python 3.11
              uses: actions/setup-python@v4
              with:
                python-version: 3.11
            
            - name: Install dependencies
              run: |
               python -m pip install --upgrade pip
               pip install -r ./data/requirements.txt
            
            - name: Run test
              run: |
               cd project
               chmod +x tests.sh
               ./tests.sh
